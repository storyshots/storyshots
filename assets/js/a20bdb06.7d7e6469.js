"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[1844],{5043:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>i,contentTitle:()=>a,default:()=>h,frontMatter:()=>c,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"modules/next","title":"@storyshots/next","description":"\u0420\u0435\u0430\u043b\u0438\u0437\u0443\u0435\u0442 \u043a\u043b\u0438\u0435\u043d\u0442 \u0438 \u0441\u0435\u0440\u0432\u0435\u0440 preview \u0434\u043b\u044f nextjs \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0439.","source":"@site/docs/modules/next.md","sourceDirName":"modules","slug":"/modules/next","permalink":"/storyshots/modules/next","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":8,"frontMatter":{"sidebar_position":8},"sidebar":"defaultSidebar","previous":{"title":"@storyshots/exec-preview","permalink":"/storyshots/modules/exec"},"next":{"title":"\u0421\u043f\u0435\u0446\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f","permalink":"/storyshots/specification/"}}');var s=t(4848),o=t(8453);const c={sidebar_position:8},a="@storyshots/next",i={},l=[{value:"Externals",id:"externals",level:2},{value:"createStoryFactories",id:"createstoryfactories",level:2},{value:"createOnStorySwitch",id:"createonstoryswitch",level:2},{value:"createStoryRootComponent",id:"createstoryrootcomponent",level:2},{value:"ModeInjector",id:"modeinjector",level:2},{value:"createNextPreview",id:"createnextpreview",level:2},{value:"extendNextConfig",id:"extendnextconfig",level:2},{value:"createSharedState",id:"createsharedstate",level:2},{value:"\u0420\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0438\u044f",id:"\u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0438\u044f",level:2},{value:"at",id:"at",level:3},{value:"arrange",id:"arrange",level:3}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"storyshotsnext",children:"@storyshots/next"})}),"\n",(0,s.jsxs)(n.p,{children:["\u0420\u0435\u0430\u043b\u0438\u0437\u0443\u0435\u0442 ",(0,s.jsx)(n.a,{href:"/specification/scheme#ipreviewclient",children:(0,s.jsx)(n.code,{children:"\u043a\u043b\u0438\u0435\u043d\u0442"})})," \u0438 ",(0,s.jsx)(n.a,{href:"/specification/scheme#ipreviewserver",children:(0,s.jsx)(n.code,{children:"\u0441\u0435\u0440\u0432\u0435\u0440"})})," preview \u0434\u043b\u044f ",(0,s.jsx)(n.code,{children:"nextjs"})," \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0439."]}),"\n",(0,s.jsx)(n.p,{children:"\u0414\u043b\u044f \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e:"}),"\n",(0,s.jsx)(n.h2,{id:"externals",children:"Externals"}),"\n",(0,s.jsx)(n.p,{children:"\u041e\u043f\u0438\u0441\u0430\u0442\u044c \u0431\u0430\u0437\u043e\u0432\u044b\u0435 \u043a\u043e\u043d\u0442\u0440\u0430\u043a\u0442\u044b \u0432\u043d\u0435\u0448\u043d\u0438\u0445 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"export type Externals = {\n  // \u0412 \u0442\u0435\u0441\u0442\u0430\u0445 \u043f\u043e\u0434\u043c\u0435\u043d\u044f\u0435\u0442\u0441\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u044f getPosts\n  getPosts(): Promise<Post[]>;\n};\n"})}),"\n",(0,s.jsx)(n.h2,{id:"createstoryfactories",children:"createStoryFactories"}),"\n",(0,s.jsxs)(n.p,{children:["\u0421\u0432\u044f\u0437\u0430\u0442\u044c \u0431\u0430\u0437\u043e\u0432\u044b\u0435 \u0444\u0430\u0431\u0440\u0438\u043a\u0438 \u0441 \u0442\u0438\u043f\u043e\u043c ",(0,s.jsx)(n.code,{children:"Externals"})," \u0438 \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"import { createStoryFactories } from '@storyshots/next';\n// \u041e\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u0442 \u043f\u043e\u0434\u043c\u0435\u043d\u044f\u0435\u043c\u044b\u0435 \u0432 \u0442\u0435\u0441\u0442\u0430\u0445 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438\nimport { Externals } from '@/storyshots/arrangers';\n\n// \u0418\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u0444\u0430\u0431\u0440\u0438\u043a \u0438\u0441\u0442\u043e\u0440\u0438\u0439 \u0438 \u0443\u0442\u0438\u043b\u0438\u0442\nexport const { it, describe, each, createOnStorySwitch } = createStoryFactories<Externals>({\n  // \u041e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044f \"\u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e\" \u0434\u043b\u044f \u0432\u043d\u0435\u0448\u043d\u0438\u0445 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439\n  createExternals: () => ({ getPosts: async () => [] }),\n  // \u041c\u0430\u0440\u043a\u0438\u0440\u043e\u0432\u043a\u0430 \u043c\u0435\u0442\u043e\u0434\u043e\u0432 \u0434\u043b\u044f \u0437\u0430\u043f\u0438\u0441\u0438 \u0432 \u0436\u0443\u0440\u043d\u0430\u043b \u0432\u044b\u0437\u043e\u0432\u043e\u0432\n  createJournalExternals: (externals) => externals,\n});\n"})}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsxs)(n.p,{children:["\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435 \u0444\u0430\u0431\u0440\u0438\u043a\u0438 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u043e\u043f\u0438\u0441\u044b\u0432\u0430\u044e\u0442\u0441\u044f \u0432 ",(0,s.jsx)(n.a,{href:"/modules/react#externalsfactory",children:"\u0434\u0430\u043d\u043d\u043e\u043c \u0440\u0430\u0437\u0434\u0435\u043b\u0435"}),"."]})}),"\n",(0,s.jsx)(n.h2,{id:"createonstoryswitch",children:"createOnStorySwitch"}),"\n",(0,s.jsx)(n.p,{children:"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u0443\u044e \u0444\u0443\u043d\u043a\u0446\u0438\u044e \u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0430\u0442\u0435\u043b\u044c, \u043e\u043f\u0438\u0441\u0430\u0442\u044c \u043c\u0435\u0445\u0430\u043d\u0438\u0437\u043c \u043f\u043e\u0434\u043c\u0435\u043d\u044b \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"import { stories } from '@/storyshots/stories';\n\n// createOnStorySwitch \u0441\u0432\u044f\u0437\u044b\u0432\u0430\u0435\u0442 \u0444\u0430\u0431\u0440\u0438\u043a\u0438 \u0441 \u043e\u043f\u0438\u0441\u0430\u043d\u043d\u044b\u043c\u0438 \u0438\u0441\u0442\u043e\u0440\u0438\u044f\u043c\u0438\nconst onStorySwitch = createOnStorySwitch(stories);\n\n// \u0414\u0430\u043b\u0435\u0435, \u043c\u043e\u0436\u043d\u043e \u043e\u043f\u0438\u0441\u0430\u0442\u044c \u0434\u0432\u0435 \u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0438 \u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439\nconst getPosts = onStorySwitch({\n  // \u0412 \u0442\u0435\u0441\u0442\u043e\u0432\u043e\u043c \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0438 \u0431\u0443\u0434\u0435\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435\n  onStory: (externals) => externals.getPosts,\n  // \u0412 \u0440\u0435\u0430\u043b\u044c\u043d\u043e\u043c \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0438\u0439 \u0437\u0430\u043f\u0440\u043e\u0441\n  otherwise: () => () => fetch('...'),\n});\n"})}),"\n",(0,s.jsx)(n.admonition,{type:"warning",children:(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"createOnStorySwitch"})," \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0434\u043b\u044f \u043f\u043e\u0434\u043c\u0435\u043d\u044b \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439 \u0432 \u043e\u0441\u043d\u043e\u0432\u043d\u044b\u0445 \u0442\u043e\u0447\u043a\u0430\u0445 \u0432\u0445\u043e\u0434\u0430, \u0447\u0442\u043e\u0431\u044b \u0438\u0437\u0431\u0435\u0436\u0430\u0442\u044c\n\u0443\u0442\u0435\u0447\u043a\u0438 \u0442\u0435\u0441\u0442\u043e\u0432\u044b\u0445 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439."]})}),"\n",(0,s.jsx)(n.h2,{id:"createstoryrootcomponent",children:"createStoryRootComponent"}),"\n",(0,s.jsxs)(n.p,{children:["\u0421\u0432\u044f\u0437\u0430\u0442\u044c ",(0,s.jsx)(n.code,{children:"Root"})," \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442 \u0441 \u043e\u043f\u0438\u0441\u0430\u043d\u043d\u044b\u043c\u0438 \u0438\u0441\u0442\u043e\u0440\u0438\u044f\u043c\u0438:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",metastring:'title="Root.tsx"',children:"'use client';\n\nimport { createStoryRootComponent } from '@storyshots/next/client';\n\nimport { stories } from '@/storyshots/stories';\n\nexport const Root = createStoryRootComponent(stories);\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u0414\u0430\u043b\u0435\u0435, \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u043a\u0430\u043a \u043a\u043e\u0440\u043d\u0435\u0432\u043e\u0439:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"import React from 'react';\nimport { Root } from '@/storyshots/Root';\n\nexport default function RootLayout({ children }: LayoutProps<'/'>) {\n  return (\n    <html lang=\"en\">\n      <body>\n        <Root>{children}</Root>\n      </body>\n    </html>\n  );\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"modeinjector",children:"ModeInjector"}),"\n",(0,s.jsxs)(n.p,{children:["\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u043c \u0448\u0430\u0433\u043e\u043c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c ",(0,s.jsx)(n.code,{children:"ModeInjector"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"import React from 'react';\nimport { Root } from '@/storyshots/Root';\nimport { ModeInjector } from '@storyshots/next/client';\n\nexport default function RootLayout({ children }: LayoutProps<'/'>) {\n  return (\n    <html lang=\"en\">\n      <head>\n        {/* \u0414\u043e\u043b\u0436\u0435\u043d \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0442\u044c\u0441\u044f \u0434\u043e \u043b\u044e\u0431\u043e\u0433\u043e \u0434\u0440\u0443\u0433\u043e\u0433\u043e CSR \u043a\u043e\u0434\u0430 \u043d\u0430 \u043f\u0440\u043e\u0435\u043a\u0442\u0435 */}\n        <ModeInjector />\n      </head>\n      <body>\n        <Root>{children}</Root>\n      </body>\n    </html>\n  );\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"createnextpreview",children:"createNextPreview"}),"\n",(0,s.jsx)(n.p,{children:"\u0414\u0430\u043b\u0435\u0435 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0441\u0430\u043c \u0441\u0435\u0440\u0432\u0435\u0440 \u043f\u0440\u0435\u0432\u044c\u044e:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"import { ManagerConfig } from '@storyshots/core/manager';\nimport { createNextPreview } from '@storyshots/next/preview';\n\nexport default {\n  preview: createNextPreview(),\n  /* ... */\n} satisfies ManagerConfig;\n"})}),"\n",(0,s.jsx)(n.h2,{id:"extendnextconfig",children:"extendNextConfig"}),"\n",(0,s.jsxs)(n.p,{children:["\u0420\u0430\u0441\u0448\u0438\u0440\u0438\u0442\u044c \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e ",(0,s.jsx)(n.code,{children:"nextjs"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"import type { NextConfig } from 'next';\nimport { extendNextConfig } from '@storyshots/next/preview';\nimport path from 'node:path';\n\nconst nextConfig: NextConfig = extendNextConfig({\n  // \u041f\u0443\u0442\u044c \u0434\u043e \u0444\u0430\u0439\u043b\u0430 \u0433\u0434\u0435 \u044d\u043a\u0441\u043f\u043e\u0440\u0442\u0438\u0440\u0443\u044e\u0442\u0441\u044f \u0438\u0441\u0442\u043e\u0440\u0438\u0438\n  storiesRoot: path.join(process.cwd(), 'storyshots', 'stories'),\n  config: {\n    // \u041e\u0440\u0438\u0433\u0438\u043d\u0430\u043b\u044c\u043d\u0430\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f nextjs\n  },\n});\n\nexport default nextConfig;\n"})}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"extendNextConfig"})," \u0438\u0441\u043a\u043b\u044e\u0447\u0430\u0435\u0442 \u0442\u0435\u0441\u0442\u043e\u0432\u044b\u0439 \u043a\u043e\u0434 \u0438\u0437 production \u0430\u0440\u0442\u0435\u0444\u0430\u043a\u0442\u0430."]})}),"\n",(0,s.jsxs)(n.p,{children:["\u041f\u043e\u0441\u043b\u0435 \u044d\u0442\u043e\u0433\u043e \u043c\u043e\u0436\u043d\u043e \u043e\u043f\u0438\u0441\u044b\u0432\u0430\u0442\u044c ",(0,s.jsx)(n.a,{href:"/specification/requirements/borders",children:"\u0438\u0441\u0442\u043e\u0440\u0438\u0438"})," \u043a\u0430\u043a \u043e\u0431\u044b\u0447\u043d\u043e:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"[\n  it('shows empty posts', {}),\n  it('shows few posts', {\n    arrange: (externals) => ({ ...externals, getPosts: async () => createFewPostsStub() })\n  }),\n  // ... //\n];\n"})}),"\n",(0,s.jsx)(n.h2,{id:"createsharedstate",children:"createSharedState"}),"\n",(0,s.jsx)(n.p,{children:"\u041f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u044d\u043c\u0443\u043b\u0438\u0440\u043e\u0432\u0430\u0442\u044c stateful \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u0432 \u0438\u0441\u0442\u043e\u0440\u0438\u044f\u0445:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"it('allows to create post', {\n  arrange: (externals) => {\n    // \u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u0431\u0443\u0434\u0435\u0442 \u0438\u0434\u0435\u043d\u0442\u0438\u0447\u043d\u044b\u043c \u043d\u0435 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e \u043e\u0442 runtime \u0444\u0443\u043d\u043a\u0446\u0438\u0439\n    const posts = createSharedState<Post[]>('posts', []);\n    \n    return {\n      ...externals,\n      createPost: (body) => posts.update((all) => [...all, { ...body, id: all.length }]),\n      getPosts: () => posts.get()\n    };\n  }\n});\n"})}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"createSharedState"})," \u0441\u043e\u0437\u0434\u0430\u0451\u0442 \u043e\u0431\u0449\u0435\u0435 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u0434\u043b\u044f \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u043d\u043e\u0433\u043e \u0438 \u0441\u0435\u0440\u0432\u0435\u0440\u043d\u043e\u0433\u043e \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f, \u043d\u043e \u0438\u0437\u043e\u043b\u0438\u0440\u0443\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0435 \u0432 \u0440\u0430\u043c\u043a\u0430\u0445 \u0432\u0437\u044f\u0442\u043e\u0439\n\u0438\u0441\u0442\u043e\u0440\u0438\u0438."]})}),"\n",(0,s.jsx)(n.h2,{id:"\u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0438\u044f",children:"\u0420\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0438\u044f"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"@storyshots/next"})," \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0440\u0430\u0441\u0448\u0438\u0440\u044f\u0435\u0442 \u0444\u0430\u0431\u0440\u0438\u043a\u0443 ",(0,s.jsx)(n.a,{href:"/API/factories/it",children:"it"})," \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u043c\u0438 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430\u043c\u0438:"]}),"\n",(0,s.jsx)(n.h3,{id:"at",children:"at"}),"\n",(0,s.jsxs)(n.p,{children:["\u041f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442 \u0441\u0442\u0430\u0440\u0442\u043e\u0432\u044b\u0439 ",(0,s.jsx)(n.code,{children:"url"})," \u0438\u0441\u0442\u043e\u0440\u0438\u0438:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"[\n  it('renders home page', {\n    // \u041e\u0442\u043a\u0440\u043e\u0435\u0442 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043f\u043e \u043a\u043e\u0440\u043d\u0435\u0432\u043e\u043c\u0443 \u0430\u0434\u0440\u0435\u0441\u0443 (\u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e)\n    at: '/',\n  }),\n  it('renders products', {\n    // \u0421\u0440\u0430\u0437\u0443 \u043e\u0442\u043a\u0440\u043e\u0435\u0442 \u0441\u043f\u0438\u0441\u043e\u043a \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u043e\u0432\n    at: '/products',\n  })\n];\n"})}),"\n",(0,s.jsx)(n.h3,{id:"arrange",children:"arrange"}),"\n",(0,s.jsx)(n.p,{children:"\u041f\u043e\u0434\u0433\u043e\u0442\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u0442 \u0432\u043d\u0435\u0448\u043d\u0438\u0435 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u0434\u043b\u044f \u0438\u0441\u0442\u043e\u0440\u0438\u0438."}),"\n",(0,s.jsx)(n.p,{children:"\u042d\u0442\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0434\u043b\u044f \u043f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0438 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f \u043f\u0435\u0440\u0435\u0434 \u0437\u0430\u043f\u0443\u0441\u043a\u043e\u043c \u0438\u0441\u0442\u043e\u0440\u0438\u0438."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"it('...', {\n  arrange: (externals) => ({\n    ...externals,\n    // \u0414\u043b\u044f \u0442\u0435\u043a\u0443\u0449\u0435\u0439 \u0438\u0441\u0442\u043e\u0440\u0438\u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0451\u043d\u043d\u043e\u0435 \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u043c\u0435\u0442\u043e\u0434\u0430.\n    getUser: async () => ({ name: 'John Doe', age: 25 }),\n  }),\n});\n"})}),"\n",(0,s.jsxs)(n.p,{children:["\u041f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442 ",(0,s.jsx)(n.a,{href:"/API/test-components/story-config",children:"\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e \u0438\u0441\u0442\u043e\u0440\u0438\u0438"})," \u043a\u0430\u043a \u0432\u0442\u043e\u0440\u043e\u0439 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442."]}),"\n",(0,s.jsx)(n.p,{children:"\u041c\u043e\u0436\u0435\u0442 \u0442\u0430\u043a\u0436\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0434\u043b\u044f \u0440\u0430\u0437\u043c\u0435\u0442\u043a\u0438 \u043c\u0435\u0442\u043e\u0434\u043e\u0432 \u0434\u043b\u044f \u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e [Journal]/API/test-components/story-config#journal:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"it('...', {\n  arrange: (externals, { journal }) => ({\n    ...externals,\n    getUser: journal.asRecordable('getUser', externals.getUser),\n  }),\n});\n"})}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"journal.record"})," \u0438 ",(0,s.jsx)(n.code,{children:"journal.asRecordable"})," \u0440\u0430\u0431\u043e\u0442\u0430\u044e\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u0441 \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u044b\u043c\u0438 \u0444\u0443\u043d\u043a\u0446\u0438\u044f\u043c\u0438."]})}),"\n",(0,s.jsx)(n.p,{children:"\u0422\u0430\u043a\u0436\u0435 \u043c\u043e\u0436\u0435\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0434\u043b\u044f \u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0433\u043e \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f \u0432 \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0435 \u0438\u0441\u0442\u043e\u0440\u0438\u0438:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"it('...', {\n  arrange: (externals) => {\n    // count \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u0441\u044f \u0432 \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u044e\u0449\u0435\u0439 \u0438\u0441\u0442\u043e\u0440\u0438\u0438.\n    const count = createSharedState('count', 0);\n\n    return {\n      increment: () => count.update(value => value + 1),\n      get: () => count.get(),\n    };\n  },\n});\n"})})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>c,x:()=>a});var r=t(6540);const s={},o=r.createContext(s);function c(e){const n=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),r.createElement(o.Provider,{value:n},e.children)}}}]);